<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Galleria Flickr Plugin</title>
        <style>

            /* Demo styles */
            html,body{background:#222;margin:0;}
            body{border-top:4px solid #000;}
            h1{font-size:12px;font-weight:normal;color:#ddd;margin:0;}
            p{margin:0 0 20px}
            a {color:#22BCB9;text-decoration:none;}
            .cred{margin-top:20px;font-size:11px;}

            /* This rule is read by Galleria to define the gallery height: */
            #galleria{height:500px;}

        </style>
        <!-- load jQuery -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
        <!-- load Galleria -->
        <script src="../../galleria-1.4.2.min.js"></script>
        <!-- load flickr plugin -->
        <script src="galleria.flickr.min.js"></script>
        <script>
        // Read a page's GET URL variables and return them as an associative array.
        function getUrlVars()
        {
            var vars = [], hash;
            var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for(var i = 0; i < hashes.length; i++)
            {
                hash = hashes[i].split('=');
                vars.push(hash[0]);
                vars[hash[0]] = hash[1];
            }
            return vars;
        }
        console.log(getUrlVars().q)
        </script>

    </head>
<body>
        <!-- Adding gallery images. This is just a container for the dynamic flickr images -->
        <div id="galleria"></div>
    <script>

    // Load the classic theme
    Galleria.loadTheme('../../themes/classic/galleria.classic.min.js');
    Galleria.configure({
        responsive:true,
        autoplay: 5000,
        showImagenav:true,
        showInfo:false,
        show:0
    });


    // Initialize Galleria
    Galleria.run('#galleria', {

        // search flickr for "galleria"
        flickr: getUrlVars().q,
        
        flickrOptions: {
            // sort by interestingness
            sort: 'interestingness-desc'
        }
    });
    </script>
    </body>
</html>